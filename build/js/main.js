function initInputs(){PlaceholderInput.replaceByOptions({clearInputs:!0,clearTextareas:!0,clearPasswords:!0,skipClass:"default",wrapWithElement:!1,showUntilTyping:!1,getParentByClass:!1,placeholderAttr:"value"})}function bindReady(e){var t=!1,s=function(){t||(t=!0,e())};if(document.addEventListener)document.addEventListener("DOMContentLoaded",s,!1);else if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){var l=function(){if(!t&&document.body)try{document.documentElement.doScroll("left"),s()}catch(e){setTimeout(l,0)}};l()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&s()})}window.addEventListener?window.addEventListener("load",s,!1):window.attachEvent&&window.attachEvent("onload",s)}bindReady(function(){initInputs()}),function(){function e(e){for(var t=[],s=0,l=t.length=e.length;l>s;s++)t[s]=e[s];return t}function t(e){return(e.type?e.type:e.tagName).toLowerCase()}function s(e,t){return e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1}function l(e,t){s(e,t)||(e.className+=" "+t)}function n(e,t){s(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," "))}function i(e,t){return function(){return e.apply(t,arguments)}}function a(e,t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:e.style[t]}var o=[];PlaceholderInput=function(){this.options={element:null,showUntilTyping:!1,wrapWithElement:!1,getParentByClass:!1,showPasswordBullets:!1,placeholderAttr:"value",inputFocusClass:"focus",inputActiveClass:"text-active",parentFocusClass:"parent-focus",parentActiveClass:"parent-active",labelFocusClass:"label-focus",labelActiveClass:"label-active",fakeElementClass:"input-placeholder-text"},o.push(this),this.init.apply(this,arguments)},PlaceholderInput.refreshAllInputs=function(e){for(var t=0;t<o.length;t++)e!==o[t]&&o[t].refreshState()},PlaceholderInput.replaceByOptions=function(s){for(var l=[].concat(e(document.getElementsByTagName("input")),e(document.getElementsByTagName("textarea"))),n=0;n<l.length;n++)if(l[n].className.indexOf(s.skipClass)<0){var i=t(l[n]);(s.focusOnly||s.clearInputs&&("text"===i||"email"===i)||s.clearTextareas&&"textarea"===i||s.clearPasswords&&"password"===i)&&new PlaceholderInput({element:l[n],focusOnly:s.focusOnly,wrapWithElement:s.wrapWithElement,showUntilTyping:s.showUntilTyping,getParentByClass:s.getParentByClass,showPasswordBullets:s.showPasswordBullets,placeholderAttr:l[n].getAttribute("placeholder")?"placeholder":s.placeholderAttr})}},PlaceholderInput.prototype={init:function(e){this.setOptions(e),this.element&&this.element.PlaceholderInst?this.element.PlaceholderInst.refreshClasses():(this.element.PlaceholderInst=this,"radio"===this.elementType&&"checkbox"===this.elementType&&"file"===this.elementType||(this.initElements(),this.attachEvents(),this.refreshClasses()))},setOptions:function(e){for(var s in e)e.hasOwnProperty(s)&&(this.options[s]=e[s]);this.options.element&&(this.element=this.options.element,this.elementType=t(this.element),this.options.focusOnly?this.wrapWithElement=!1:"password"===this.elementType&&this.options.showPasswordBullets?this.wrapWithElement=!1:this.wrapWithElement="password"===this.elementType||this.options.showUntilTyping?!0:this.options.wrapWithElement,this.setPlaceholderValue(this.options.placeholderAttr))},setPlaceholderValue:function(e){this.origValue="value"===e?this.element.defaultValue:this.element.getAttribute(e)||"","value"!==this.options.placeholderAttr&&this.element.removeAttribute(this.options.placeholderAttr)},initElements:function(){if(this.wrapWithElement?(this.fakeElement=document.createElement("span"),this.fakeElement.className=this.options.fakeElementClass,this.fakeElement.innerHTML+=this.origValue,this.fakeElement.style.color=a(this.element,"color"),this.fakeElement.style.position="absolute",this.element.parentNode.insertBefore(this.fakeElement,this.element),this.element.value!==this.origValue&&this.element.value?this.togglePlaceholderText(!1):(this.element.value="",this.togglePlaceholderText(!0))):!this.element.value&&this.origValue.length&&(this.element.value=this.origValue),this.element.id){this.labels=document.getElementsByTagName("label");for(var e=0;e<this.labels.length;e++)if(this.labels[e].htmlFor===this.element.id){this.labelFor=this.labels[e];break}}if(this.elementParent=this.element.parentNode,"string"==typeof this.options.getParentByClass)for(var t=this.element;t.parentNode;){if(s(t.parentNode,this.options.getParentByClass)){this.elementParent=t.parentNode;break}t=t.parentNode}},attachEvents:function(){this.element.onfocus=i(this.focusHandler,this),this.element.onblur=i(this.blurHandler,this),this.options.showUntilTyping&&(this.element.onkeydown=i(this.typingHandler,this),this.element.onpaste=i(this.typingHandler,this)),this.wrapWithElement&&(this.fakeElement.onclick=i(this.focusSetter,this))},togglePlaceholderText:function(e){this.element.readOnly||this.options.focusOnly||(this.wrapWithElement?this.fakeElement.style.display=e?"":"none":this.element.value=e?this.origValue:"")},focusSetter:function(){this.element.focus()},focusHandler:function(){clearInterval(this.checkerInterval),this.checkerInterval=setInterval(i(this.intervalHandler,this),1),this.focused=!0,this.element.value.length&&this.element.value!==this.origValue||this.options.showUntilTyping||this.togglePlaceholderText(!1),this.refreshClasses()},blurHandler:function(){clearInterval(this.checkerInterval),this.focused=!1,this.element.value.length&&this.element.value!==this.origValue||this.togglePlaceholderText(!0),this.refreshClasses(),PlaceholderInput.refreshAllInputs(this)},typingHandler:function(){setTimeout(i(function(){this.element.value.length&&(this.togglePlaceholderText(!1),this.refreshClasses())},this),10)},intervalHandler:function(){"undefined"==typeof this.tmpValue&&(this.tmpValue=this.element.value),this.tmpValue!=this.element.value&&PlaceholderInput.refreshAllInputs(this)},refreshState:function(){this.wrapWithElement&&(this.element.value.length&&this.element.value!==this.origValue?this.togglePlaceholderText(!1):this.element.value.length||this.togglePlaceholderText(!0)),this.refreshClasses()},refreshClasses:function(){this.textActive=this.focused||this.element.value.length&&this.element.value!==this.origValue,this.setStateClass(this.element,this.options.inputFocusClass,this.focused),this.setStateClass(this.elementParent,this.options.parentFocusClass,this.focused),this.setStateClass(this.labelFor,this.options.labelFocusClass,this.focused),this.setStateClass(this.element,this.options.inputActiveClass,this.textActive),this.setStateClass(this.elementParent,this.options.parentActiveClass,this.textActive),this.setStateClass(this.labelFor,this.options.labelActiveClass,this.textActive)},setStateClass:function(e,t,s){e&&(s?l(e,t):n(e,t))}}}();